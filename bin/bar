#!/bin/sh
# status bar

vol() {
	# pulsemixer returns two equal values; use the first one
	pair="$(pulsemixer --get-volume)"
	val="${pair% *}"
	mute="$(pulsemixer --get-mute)"

	if [ "$mute" = 1 ]; then
		echo "---"
	else
		echo "$val%"
	fi
}

clock() {
	date +"%a %d %H:%M"
}

while :; do
	xsetroot -name "Vol: $(vol)   $(clock)"
	sleep 0.2
done
