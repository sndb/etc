#!/bin/sh
# status bar

vol() {
	mute="$(pulsemixer --get-mute)"
	if [ "$mute" = 1 ]; then
		echo "---"
		return
	fi

	pair="$(pulsemixer --get-volume)"
	left="${pair% *}"
	right="${pair#* }"
	if [ "$left" = "$right" ]; then
		echo "$left%"
	else
		echo "L$left% R$right%"
	fi
}

clock() {
	date +"%A %d %H:%M"
}

while :; do
	xsetroot -name "Vol: $(vol)   $(clock)"
	sleep 0.2
done
